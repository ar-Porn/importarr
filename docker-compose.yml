version: '3.8'

services:
  importarr:
    image: ghcr.io/ar-porn/importarr:latest
    container_name: importarr
    restart: unless-stopped
    environment:
      # General Settings
      IMPORTARR_MODE: "both"                    # Options: both, stash, files
      IMPORTARR_RUN_MODE: "interval"            # Options: once, interval
      IMPORTARR_INTERVAL_HOURS: "24"            # Run every 24 hours
      IMPORTARR_DRY_RUN: "false"                # Set to "true" for testing
      
      # Whisparr Settings
      WHISPARR_URL: "http://10.1.1.44:9696"
      WHISPARR_API_KEY: "MySuperSecretWhisparrApiKey: Settings->General->Security "
      WHISPARR_QUALITY_PROFILE_ID: "1"
      WHISPARR_ROOT_FOLDER_PATH: ""             # Leave empty to use first available
      WHISPARR_TAG_IDS: ""                      # Comma-separated tag IDs, e.g. "1,2,3"
      
      # Stash Settings (for Stash sync mode)
      STASH_URL: "http://10.1.1.30:9999"
      STASH_API_KEY: "MySuperSecretStashApiKey: Settings->Security->API_Key"
      STASH_BATCH_SIZE: "50"
      STASH_DELAY_BETWEEN_BATCHES: "5"          # Seconds
      STASH_DELAY_BETWEEN_REQUESTS: "0.5"       # Seconds
      
      # File Import Settings (for file import mode)
      IMPORT_FOLDER: "/import/man/scenes"       # Path inside container
      IMPORT_MODE: "move"                       # Options: move, copy
      FILE_BATCH_SIZE: "50"
      FILE_DELAY_BETWEEN_BATCHES: "5"           # Seconds
      FILE_DELAY_BETWEEN_SUBFOLDERS: "5"        # Seconds
      PROCESS_ROOT_FILES: "false"               # Process files in root folder
      MAX_SUBFOLDERS: ""                        # Leave empty for no limit
      MAX_DEPTH: "10"                           # Maximum folder depth to scan
      
    volumes:
      # Mount your import folder - adjust the left side to your actual path
      - /your/actual/import/path:/import/man/scenes
      
    # Optional: Set timezone
    # environment:
    #   TZ: "Europe/Berlin"
